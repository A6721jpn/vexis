# VEXIS-CAE 今後の実装・改善項目リスト

## 直近タスク
- [ ] **バッチ再開時のステータスリセット (v1.4.1予定)**: 解析を途中で停止（Stop）した後に再スタート（Start）すると、停止したケースがスキップされてしまう不具合を修正。スタート時に全ケースのステータスをリセットし、常に先頭から実行されるようにする。
- [ ] **開発履歴の確認**: `collect_version_dates.py` を別PCの旧バージョンフォルダで実行し、v0.1〜v0.5の正確な開発時期を特定する。

## 優先度：高 (Priority: High)
- [ ] **スキップボタンの挙動確認**
  - メッシュ生成中やモデル準備中にスキップを連打し、次のジョブが確実に開始されるか、バッチが停止しないかを確認する（修正済み機能の回帰テスト）。
- [x] **ランタイム依存関係のパッケージ化改善** →実装不要
  - 同梱ソルバー (`febio4.exe`) が VC++ 再頒布可能パッケージなしでも動作するよう、必要な DLL を PyInstaller で正確に同梱する。
- [x] **ポストプロセッサの高速化**  *実装作業中
  - スライダーを動かして時系列でVTKを表示していくとき、スライダーを引っ張ってもマウスにうまく追従せずに2～3秒ほど遅れて3Dコンターが表示されるので、これを改善する。

## 優先度：中 (Priority: Medium)

- [ ] **ソルバーのフォールバック・ログ強化**
  - 現在の実装（フォールバック）をより詳細にユーザーに提示し、どのソルバーが使用されているかを GUI 上でも明示する。
- [ ] **GUI: ファイルのドラッグ＆ドロップ対応**
  - `input` フォルダへの手動コピーだけでなく、GUI 自体に STEP ファイル等をドロップしてジョブ追加できるようにする。
- [ ] **解析結果のリアルタイム・プロット (Post-processing)**
  - 現在は解析終了後に画像を出力しているが、解析中に荷重-変位曲線（Reaction Force vs Displacement）などをリアルタイムでグラフ表示する。
- [ ] **材料ライブラリの拡張**
  - `material.yaml` の定義を増やし、Ogden model以外の超弾性モデル（Mooney-Rivlin, Arruda-Boyce 等）にも対応する。
- [ ] **統合ログの実装**
  - いまはGUI/CUIのログがいろいろなところに細切れになっているので、統合してデバッグと開発効率を向上させる。

## 優先度：低 (Priority: Low / Future)
- [ ] **非 ASCII パス・ファイル名への完全対応**
  - 現在は警告を出してブロックしているが、内部的に一時ディレクトリ（英数字のみ）にコピーして処理するなどの回避策を実装し、日本語パスでも動作するようにする。
- [ ] **自動メッシュ細分化 (Adaptive Meshing)**
  - 解析中に歪みが大きくなった部位を検出し、自動でメッシュを切り直して解析を継続する機能。
- [ ] **適応型メッシュ生成機能**
  - FElupeなどのライブラリを使い、3Dではなく2Dメッシュで事前解析をおこない、変形の大きい部分や細分化が必要な部分を本解析前に特定して、Gmshのメッシュサイズフィールドをつくり本番メッシュの粒度を最適化する。
- [ ] **FEBioアダプティブ・リメッシング統合**
  - `pyfebio`ライブラリの`HexRefineAdaptor`パターンに従い、lxmlでXMLを直接生成。
  - `<MeshAdaptor>`ブロックを`.feb`テンプレートに注入し、応力誤差基準で自動細分化を有効化。
  - 詳細: [adaptive_remeshing_plan.md](./adaptive_remeshing_plan.md)
- [ ] **クラウド連携・HPC対応**
  - 多数のジョブをハイパフォーマンスクラスタやクラウド上で並列実行し、結果を同期する仕組み。

---
*Last Updated: 2026-01-08*
*Created by Antigravity*
