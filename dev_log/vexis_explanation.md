# VEXIS-CAEの解説

**AIを使う目的**

ラバードームの設計のための非線形座屈解析を、設計者自身がワンクリックで実行できるよう自動化。

**従来作業のどこを効率化したかったのか**

ラバードームの非線形解析には3つの高いハードルがあった：

1. **理想的なメッシュ生成の困難さ**
   - 座屈解析の収束性を確保するには、ドーム中心部にO-grid（バタフライメッシュ）があるのが理想。
   - 商用メッシャー（SIMULIA等）ではこれに高価な追加ライセンスと複雑な手順が必要
   - 結果として、KBD teamでは理想的なメッシュを諦めていた。（SIMULIAと追加ライセンスを買って、それでもなおラバー中央はメッシュ生成できずくり抜いていた）

2. **非線形モデルの再定義の複雑さ**
   - 解析モデルのメッシュを差し替えると節点番号が変わり、接触面・境界条件が壊れる
   - これを手動で再設定するには非線形CAEソフトの知識が必要
   - 解析専任者でなければCAEソフトの使い方を覚えるほど使い込むことは困難

3. **解析専任者への依存**
   - 解析難易度の高さから設計者CAEには出来なかった
   - 設計者の発想を素早く検証できず、設計探索の自由度が制限されていた

**使用したAI**
Google Antigravity + Gemini 3 pro / 3 flash, Google AI proプラン

**従来の作業と比較してどれだけ効率化されたか**
- 解析1ケースあたり30分~1時間の解析モデル準備 → ワンクリックで自動完了
- 設計検討の試行錯誤速度が劇的に向上
- 設計形状に追従して接触条件と拘束を再構築し、アンチスリープとバッチ解析によって夜間の複数ケース連続自動解析をサポート

**具体的な作業（開発の時系列）**

| Version           | 時期              | 内容                                                                                 |
| ----------------- | ----------------- | ------------------------------------------------------------------------------------ |
| 初期実験          | 2025-11-26〜      | 基礎調査、ライブラリ選定                                                             |
| **v0.1 (Proto1)** | 2025-12-01〜12-17 | Gmsh + FEBioの基本パイプライン構築。概念実証。                                       |
| **v0.2 (Proto2)** | 2025-12-01〜12-18 | ディレクトリ構造定義、tqdmによる進捗表示                                             |
| **v0.3 (Proto3)** | 2025-12-01〜12-19 | YAML設定ファイルによる動的パラメータ管理                                             |
| **v0.4 (Proto4)** | 2025-12-03〜12-19 | O-gridメッシュ生成をGmsh+Pythonで自作実装                                            |
| mesh_swap         | 2025-12-16〜12-17 | メッシュ差し替え自動化関数  set_reconstructor.py の集中開発                          |
| **v0.5**          | 2025-12下旬       | CLI版完成、バッチ処理対応                                                            |
| **v1.0**          | 2025-12-28〜      | PySide6によるモダンGUI、3Dビューア、リアルタイム監視を実装。リポジトリをパブリック化 |
| **v1.1**          | 2026-01-02〜      | SVGアイコン、クラッシュハンドラ、PyInstallerビルド最適化                             |
| **v1.2**          | 2026-01-05〜      | Waffleiron統合（.xplt直接読込）、アンチスリープ機能による夜間解析サポート            |
| **v1.3**          | 2026-01-06〜      | SetReconstructor戦略パターン化、UIリファクタリング                                   |

**主要コンポーネント**
- `src/mesh_gen/`: O-gridメッシュ生成機能。オープンソースライブラリを複数組み合わせてプログラムを作り、商用ソフト並みの機能を実装
- `src/mesh_swap/set_reconstructor.py`: 接触・境界条件の自動再構築（KDTree + 幾何ルール）。自作。
- `src/libs/waffleiron/`: FEBioの.xpltバイナリを直接・高速パースできるライブラリ。既製。
- `src/gui/`: ダークテーマのモダンGUI（PySide6）。GUIもとりあえず作ってみた。

**コードベース規模（v1.3.0時点）**
| 指標             | 値    |
| ---------------- | ----- |
| Pythonファイル数 | 36    |
| 総行数           | 6,800 |
| コード行数 (LOC) | 4,754 |
| 依存パッケージ数 | 47    |

**その他・気づいた点など**

- ビルド済み実行ファイル、マニュアルはこちら →
- オープンソースのメッシュ生成エンジンとオープンソースの非線形CAEソルバーをうまく組み合わせればラバードームの感触を解析できるな……と思いついたのがきっかけ。
- **非線形CAEを設計者CAEにする**: 解析自動化によって解析専任者への依存を排除し、設計者が自由な発想をすぐに検証できる環境をAI駆動開発で作ることができる。
- 約1ヶ月の開発期間、36ファイル・約6,800行規模。AI駆動IDE（Google Antigravity）なしでは実現不可能だった。
- O-gridメッシュ生成とSetReconstructor関数がこのソフトのコア。解析対象をラバードームに制限することで、商用ツール並の精度を達成しながら、理想的なメッシュ生成を自動化。このアイデアはずっと頭にあったものの、実装は到底出来ないと思っていた。
- もともとはCS27 Common ClickPadの3button設計用に作った。設計業務だけでなく設計技術(解析技術)そのものを内製化して競争力を保つため。あと寝てる間に解析してほしかった。
- **「こんな感じでプログラム作れたら嬉しいのに……自分にはプログラミング出来ないけど……」 → できる時代が来た。**

---
*Created: 2026-01-07*
